# Simple Multi-Agent* Systems with Personas

One of the things we can do with personas is we can start to build sort of almost multi-agent systems. It's sort of a simple way, almost like a hack in a way, to get a multi-agent system as we simply create a tool based around a persona prompt. And what we get is we get behavior that starts to really look like multi-agent systems and some people might argue that they are. I put a little asterisk here, but I guess I don't think they're quite multi-agent systems yet, but it's getting really close and often it's good enough.

## Example Implementation

Now, let's take a look at what we can do with this. So, I'm going to go back to simulating this agent for documentation in a conversation. And what I've done is I've added a tool to it. And if you look here, you'll probably see this "ask documentation expert to write readme with file content" tool. And that is my new tool that is going to allow us to essentially have two agents working together. A multi-agent system, sort of.

Now, I go through all the standard stuff. I ask it to document the code. It gets the project directory. It lists the files. I give it the list of files. It reads the first file. I tell it that "print hello world" is in that file. Everything we've seen before.

Now is where it gets interesting. It says "ask the documentation expert to write the readme." So, it's calling the tool which is handing off to another agent. Now, it's handing off to a prompt that has a persona. That tool is built around a prompt with a persona in it.

## Documentation Expert Persona

So, I'm going to simulate this by starting a new separate conversation in a separate tab in your browser. However, you want to do this, but I'm going to start a separate conversation and I'm going to begin with this prompt. This is my documentation expert persona:

"Act as a documentation expert. You write very extensive and friendly readmes for projects. All of your readmes have an introduction, setup, tutorial, and conclusion section. The file to document is print hello world."

Now, you can imagine writing a Python tool to embody this prompt and take in whatever the contents of that file is and then send the prompt off so that we're calling this expert with this persona.

## Agent Coordination

The result is it comes back and it generates this nice readme. It's this friendly readme with all the sections that it needs. But it's basically gone and acted as a second agent.

Now, what I can do to simulate how this goes is I copy and paste all of the result or the response from that agent from that prompt and I bring it back into my other conversation. And I just copy and paste it back. "Here's the result of that tool." And so the first agent is getting the result that the other agent produced. I have two agents now essentially coordinating and working together to solve the problem.

And then the first agent goes back and it knows what to do with it. It takes it and says, okay, now I need to call "write file." And it puts in the file name and then it puts the contents of all of that other agent's output into it.

## Benefits and Abstraction Boundaries

Now, what this is buying us is the ability to start going and building sort of specialized agents to do things. That first one can have one particular persona and then the second one can have another persona. And we don't have to worry about with our abstractions if we start thinking about a persona as an abstraction that brings with it lots of operations and ways of doing things, right?

Like you probably don't want to mix a speech-language pathologist persona with a documentation expert. Does that really make sense? No, that's probably a boundary, an abstraction boundary you don't want to cross. So you probably don't want to have one agent that has all that mixed together, right? You might want to separate those out.

So now we can separate the second one out into a tool that wraps that persona in a prompt. It can go and be executed and give back the results. And so we're starting to get some modularity here. We're allowing them to go and interact, but it's also beginning to hit at something like as we start building up different agents or prompts and personas, we're also sort of establishing abstraction boundaries where we want to probably keep things clean and modular.

And so this persona pattern is really powerful at helping us to start thinking about how to modularize but also build really token efficient prompts for our agents to go and do particular things.
